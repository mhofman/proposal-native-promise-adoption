import{_ as F,I as o}from"./slidev/default-D-P4pE3x.js";import{a as p}from"./slidev/CodeBlockWrapper.vue_vue_type_script_setup_true_lang-BVtEamj0.js";import{b as d,o as g,w as l,g as i,e as a,ad as s,m as E,v as y,x as u,T as e}from"./modules/vue-STI-qBJL.js";import{u as c,f}from"./slidev/context-B_WhetSI.js";import"./index-CDfkUc12.js";import"./modules/shiki-AMahFDKN.js";import"./modules/unplugin-icons-iX1xcvn8.js";const P={__name:"2025-09-pr-3689.md__slidev_4",setup(m){const{$clicksContext:k,$frontmatter:h}=c();return k.setup(),(D,t)=>{const n=p,r=F;return g(),d(o,y(u(e(f)(e(h),3))),{default:l(()=>[t[2]||(t[2]=i("h1",null,"Equivalent unobservable check",-1)),t[3]||(t[3]=i("p",null,[s("Replace with a "),i("code",null,"__proto__"),s(" check")],-1)),a(n,E({},{title:"",ranges:["3-5"]}),{default:l(()=>[...t[0]||(t[0]=[i("pre",{class:"shiki shiki-themes github-dark-default github-light-default slidev-code",style:{"--shiki-dark":"#e6edf3","--shiki-light":"#1f2328","--shiki-dark-bg":"#0d1117","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-js"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"}},"function"),i("span",{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"}}," PromiseResolve"),i("span",{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"}},"("),i("span",{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"}},"C"),i("span",{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"}},", "),i("span",{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"}},"x"),i("span",{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"}},") {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"}},"  if"),i("span",{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"}}," ("),i("span",{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"}},"IsPromise"),i("span",{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"}},"(x)) {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"}},"    const"),i("span",{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"}}," xProto"),i("span",{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"}}," ="),i("span",{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"}}," Reflect."),i("span",{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"}},"getPrototypeOf"),i("span",{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"}},"(x); "),i("span",{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"}},"// Unobservable")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"}},"    const"),i("span",{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"}}," cPrototype"),i("span",{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"}}," ="),i("span",{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"}}," C"),i("span",{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"}},"."),i("span",{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"}},"prototype"),i("span",{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"}},"; "),i("span",{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"}},"// Unobservable if C === %Promise%")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"}},"    if"),i("span",{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"}}," (xProto "),i("span",{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"}},"==="),i("span",{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"}}," cPrototype) "),i("span",{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"}},"return"),i("span",{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"}}," x;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"}},"  }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"}},"  return"),i("span",{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"}}," new"),i("span",{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"}}," C"),i("span",{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"}},"("),i("span",{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"}},"resolve"),i("span",{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"}}," =>"),i("span",{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"}}," resolve"),i("span",{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"}},"(x));")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"}},"}")])])],-1)])]),_:1},16),t[4]||(t[4]=i("p",null,"Credit: Kevin Gibbons for the original idea.",-1)),t[5]||(t[5]=i("br",null,null,-1)),a(r,null,{default:l(()=>[...t[1]||(t[1]=[i("ul",null,[i("li",null,"Relies on the Constructor to identify its instances instead of the instance to identify its constructor."),i("li",null,[s("More similar to an "),i("code",null,"instanceof"),s(" check, without prototype chain walk. "),i("ul",null,[i("li",null,[s("Derived instances still do not qualify (stricter check than "),i("code",null,"instanceof"),s(")")])])])],-1)])]),_:1})]),_:1},16)}}};export{P as default};
